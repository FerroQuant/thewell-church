{% comment %}
  JSON-LD structured data for search engines.
  - Church/Organization schema on homepage
  - WebSite schema with search action
  - BreadcrumbList schema on all interior pages
{% endcomment %}
{% if page.url == '/' %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Church",
  "name": "{{ site.title }}",
  "alternateName": "Whitley Community Church Trust",
  "description": "{{ site.description }}",
  "url": "{{ site.url }}",
  "logo": "{{ '/assets/images/logo.svg' | absolute_url }}",
  "image": "{{ '/assets/images/church/hero.jpg' | absolute_url }}",
  "telephone": "",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Between 29 & 31 Dawlish Road",
    "addressLocality": "Reading",
    "addressRegion": "Berkshire",
    "postalCode": "RG2 7SD",
    "addressCountry": "GB"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": {{ site.church.map_lat }},
    "longitude": {{ site.church.map_lng }}
  },
  "areaServed": {
    "@type": "City",
    "name": "Reading",
    "containedInPlace": {
      "@type": "AdministrativeArea",
      "name": "Berkshire"
    }
  },
  "sameAs": [
    "{{ site.church.facebook }}"
  ],
  "openingHoursSpecification": [
    {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": "Sunday",
      "opens": "10:30",
      "closes": "12:00",
      "description": "Sunday Morning Service"
    },
    {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": "Thursday",
      "opens": "19:00",
      "closes": "20:00",
      "description": "Thursday Prayer Meeting"
    }
  ],
  "hasMap": "https://www.google.com/maps?q=The+Well+Church,+Dawlish+Road,+Reading+RG2+7SD",
  "isAccessibleForFree": true,
  "publicAccess": true,
  "nonprofitStatus": "Charity",
  "knowsLanguage": ["en", "am"],
  "event": {
    "@type": "Event",
    "name": "Sunday Morning Service",
    "description": "Weekly worship service with praise, teaching, and kids ministry. Live-streamed on Facebook.",
    "startDate": "{{ 'now' | date: '%Y-%m-%d' }}T10:30:00",
    "endDate": "{{ 'now' | date: '%Y-%m-%d' }}T12:00:00",
    "eventSchedule": {
      "@type": "Schedule",
      "repeatFrequency": "P1W",
      "byDay": "https://schema.org/Sunday",
      "startTime": "10:30",
      "endTime": "12:00"
    },
    "location": {
      "@type": "Place",
      "name": "The Well Church",
      "address": "Dawlish Road, Reading RG2 7SD"
    },
    "isAccessibleForFree": true,
    "eventAttendanceMode": "https://schema.org/MixedEventAttendanceMode",
    "organizer": {
      "@type": "Church",
      "name": "The Well Church",
      "url": "{{ site.url }}"
    }
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "{{ site.title }}",
  "url": "{{ site.url }}",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "{{ site.url }}/search/?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
{% else %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{{ site.url }}"
    }{% if page.collection == 'sermons' %},
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Sermons",
      "item": "{{ '/sermons/' | absolute_url }}"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "{{ page.title }} â€” {{ page.date | date: '%-d %B %Y' }}"
    }{% elsif page.collection == 'events' %},
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Events",
      "item": "{{ '/events/' | absolute_url }}"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "{{ page.title }}"
    }{% else %},
    {
      "@type": "ListItem",
      "position": 2,
      "name": "{{ page.title }}"
    }{% endif %}
  ]
}
</script>
{% endif %}
