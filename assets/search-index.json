---
layout: null
---
[
  {% assign searchable = site.pages | where_exp: "p", "p.title" | where_exp: "p", "p.url != '/search/'" | where_exp: "p", "p.url != '/404.html'" %}
  {% for page in searchable %}
  {
    "id": {{ page.url | jsonify }},
    "title": {{ page.title | jsonify }},
    "body": {{ page.content | strip_html | truncatewords: 80 | jsonify }},
    "type": "page",
    "url": {{ page.url | jsonify }}
  },
  {% endfor %}
  {% assign sermons = site.sermons | sort: 'date' | reverse %}
  {% for sermon in sermons %}
  {% capture sermon_title %}{{ sermon.title }} â€” {{ sermon.date | date: "%-d %B %Y" }}{% endcapture %}
  {
    "id": {{ sermon.url | jsonify }},
    "title": {{ sermon_title | strip | jsonify }},
    "body": {{ sermon.content | strip_html | default: sermon.title | truncatewords: 80 | jsonify }},
    "type": "sermon",
    "url": {{ "https://www.facebook.com/watch/?v=" | append: sermon.facebook_id | jsonify }}
  }{% unless forloop.last %},{% endunless %}
  {% endfor %}
]
